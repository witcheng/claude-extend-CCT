{
  "description": "Monitors both production and preview environments simultaneously with color-coded status indicators. Perfect for teams managing multiple deployment targets. Shows real-time status of your latest production and preview deployments with green/yellow/red indicators for quick visual assessment. Setup: Export environment variables 'export VERCEL_TOKEN=your_token' and 'export VERCEL_PROJECT_ID=your_project_id' (or manually replace $VERCEL_TOKEN and $VERCEL_PROJECT_ID in the command if you prefer not to use environment variables). Get your token from vercel.com/account/tokens and project ID from your Vercel dashboard.",
  "statusLine": {
    "type": "command",
    "command": "bash -c 'input=$(cat); DIR=$(echo \"$input\" | jq -r \".workspace.current_dir\"); DEPLOYS=$(curl -s -H \"Authorization: Bearer $VERCEL_TOKEN\" \"https://api.vercel.com/v6/deployments?projectId=$VERCEL_PROJECT_ID&limit=10\" 2>/dev/null); if [ -n \"$DEPLOYS\" ] && [ \"$DEPLOYS\" != \"null\" ]; then PROD=$(echo \"$DEPLOYS\" | jq -r \".deployments[] | select(.target == \\\"production\\\") | .state\" | head -1); PREVIEW=$(echo \"$DEPLOYS\" | jq -r \".deployments[] | select(.target == \\\"preview\\\") | .state\" | head -1); case \"$PROD\" in READY) PROD_ICON=\"ğŸŸ¢\";; BUILDING) PROD_ICON=\"ğŸŸ¡\";; ERROR) PROD_ICON=\"ğŸ”´\";; *) PROD_ICON=\"âšª\";; esac; case \"$PREVIEW\" in READY) PREV_ICON=\"ğŸŸ¢\";; BUILDING) PREV_ICON=\"ğŸŸ¡\";; ERROR) PREV_ICON=\"ğŸ”´\";; *) PREV_ICON=\"âšª\";; esac; else PROD_ICON=\"â“\"; PREV_ICON=\"â“\"; fi; echo \"â–² Vercel ğŸš€ Prod:$PROD_ICON Prev:$PREV_ICON | ğŸ“ ${DIR##*/}\"'"
  }
}