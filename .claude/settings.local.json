{
  "permissions": {
    "allow": [
      "Bash(mkdir:*)",
      "Bash(cp:*)",
      "Bash(chmod:*)",
      "Bash(npm install)",
      "Bash(npm start:*)",
      "Bash(npm whoami:*)",
      "Bash(npm publish:*)",
      "Bash(npm pkg:*)",
      "Bash(npm logout)",
      "Bash(node:*)",
      "Bash(npm test)",
      "Bash(ls:*)",
      "Bash(/usr/local/bin/npm whoami)",
      "Bash(npm view:*)",
      "Bash(npm run sync:*)",
      "Bash(find:*)",
      "Bash(rm:*)",
      "Bash(true)",
      "Bash(grep:*)",
      "Bash(echo:*)",
      "Bash(git add:*)",
      "Bash(git push:*)",
      "Bash(git commit:*)",
      "Bash(npm version:*)",
      "Bash(npm link:*)",
      "Bash(claude-code-templates:*)",
      "Bash(python:*)",
      "Bash(npm run build:*)",
      "WebFetch(domain:docs.claude.com)",
      "Read(/Users/danipower/.claude/local/node_modules/@anthropic-ai/claude-code/**)",
      "Read(/Users/danipower/.claude/local/node_modules/@anthropic-ai/claude-code/**)",
      "Read(/Users/danipower/.claude/local/node_modules/@anthropic-ai/claude-code/**)",
      "Read(/Users/danipower/.claude/local/node_modules/@anthropic-ai/claude-code/**)",
      "WebSearch",
      "WebFetch(domain:neon.com)",
      "Read(//Users/danipower/.claude/**)"
    ],
    "deny": []
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "WebSearch",
        "hooks": [
          {
            "type": "command",
            "command": "python3 -c \"import json, sys, re; from datetime import datetime; input_data = json.load(sys.stdin); tool_input = input_data.get('tool_input', {}); query = tool_input.get('query', ''); current_year = str(datetime.now().year); has_year = re.search(r'\\\\b20\\\\d{2}\\\\b', query); has_temporal = any(word in query.lower() for word in ['latest', 'recent', 'current', 'new', 'now', 'today']); should_add_year = not has_year and not has_temporal; modified_query = f'{query} {current_year}' if should_add_year else query; output = {'hookSpecificOutput': {'hookEventName': 'PreToolUse', 'modifiedToolInput': {'query': modified_query}}}; print(json.dumps(output)); sys.exit(0)\"",
            "timeout": 5
          }
        ]
      }
    ]
  }
}
